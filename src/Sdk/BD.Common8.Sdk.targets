<Project TreatAsLocalProperty="$(TreatAsLocalProperty);IsPackable;IsTestProject;IsSourceGeneratorProject;IsGlobalUsingsCommon8Bcl;IsGlobalUsingsMSBuildProjectName;IsCommon8Project;UseCommon8Bcl;UseAspNetCore;UseProjectUtils;UseSourceGeneratorResx;UseMicrosoftIdentityModelTokens;UseEFCore;LinkResXGeneratedCodeAttribute;UseAvalonia;UseRedis;UseNLog">

	<Import Condition="$(IsPackable) == 'true'" Project=".\GeneratePackage.props" />
	<Import Condition="$(IsTestProject) == 'true'" Project=".\BD.Common8.UnitTest.props" />
	<Import Condition="$(IsSourceGeneratorProject) == 'true'" Project=".\BD.Common8.SourceGenerator.props" />
	<Import Condition="$(IsGlobalUsingsCommon8Bcl) == 'true' OR $(UseCommon8Bcl) == 'true'" Project=".\BD.Common8.Bcl.GlobalUsings.props" />

	<PropertyGroup Condition=" $(TargetFramework.StartsWith('net35')) ">
		<ImplicitUsings>false</ImplicitUsings>
	</PropertyGroup>

	<ItemGroup Condition=" $(TargetFramework.StartsWith('net35')) ">
		<Compile Include="..\Shared\GlobalUsings.net35.cs">
			<LinkBase>Properties\GlobalUsings</LinkBase>
		</Compile>
	</ItemGroup>

	<ItemGroup Condition="$(UseAspNetCore) == 'true'">
		<Compile Include="..\Shared\GlobalUsings.Microsoft.AspNetCore.cs">
			<LinkBase>Properties\GlobalUsings</LinkBase>
		</Compile>
		<Compile Include="..\Shared\GlobalUsings.Microsoft.Extensions.Caching.cs">
			<LinkBase>Properties\GlobalUsings</LinkBase>
		</Compile>
		<Compile Condition="$(UseEFCore) != 'true'" Include="..\Shared\GlobalUsings.Microsoft.Extensions.Configuration.cs">
			<LinkBase>Properties\GlobalUsings</LinkBase>
		</Compile>
		<Compile Include="..\Shared\GlobalUsings.Microsoft.Extensions.FileProviders.cs">
			<LinkBase>Properties\GlobalUsings</LinkBase>
		</Compile>
		<Compile Include="..\Shared\GlobalUsings.Microsoft.Extensions.Hosting.cs">
			<LinkBase>Properties\GlobalUsings</LinkBase>
		</Compile>
		<Compile Include="..\Shared\GlobalUsings.Microsoft.Extensions.Options.cs">
			<LinkBase>Properties\GlobalUsings</LinkBase>
		</Compile>
		<FrameworkReference Include="Microsoft.AspNetCore.App" />
	</ItemGroup>

	<ItemGroup Condition="$(IsGlobalUsingsMSBuildProjectName) == 'true'">
		<Compile Include="..\Shared\GlobalUsings.$(MSBuildProjectName).cs">
			<LinkBase>Properties\GlobalUsings</LinkBase>
		</Compile>
	</ItemGroup>

	<ItemGroup Condition="$(UseProjectUtils) == 'true'">
		<Compile Include="..\Shared\ProjectUtils.cs">
			<LinkBase>Properties</LinkBase>
		</Compile>
	</ItemGroup>

	<ItemGroup Condition="$(UseSourceGeneratorResx) == 'true'">
		<ProjectReference Condition="$(IsCommon8Project) == 'true'" Include="..\BD.Common8.SourceGenerator.ResX\BD.Common8.SourceGenerator.ResX.csproj">
			<OutputItemType>Analyzer</OutputItemType>
			<ReferenceOutputAssembly>false</ReferenceOutputAssembly>
		</ProjectReference>
	</ItemGroup>

	<ItemGroup Condition="$(UseCommon8Bcl) == 'true' AND $(IsSourceGeneratorProject) != 'true' AND $(MSBuildProjectName) != 'BD.Common8.Bcl'">
		<ProjectReference Condition="$(IsCommon8Project) == 'true'" Include="..\BD.Common8.Bcl\BD.Common8.Bcl.csproj" />
	</ItemGroup>

	<ItemGroup Condition="$(UseMicrosoftIdentityModelTokens) == 'true'">
		<Compile Include="..\Shared\GlobalUsings.Microsoft.IdentityModel.Tokens.cs">
			<LinkBase>Properties\GlobalUsings</LinkBase>
		</Compile>
		<PackageReference Include="Microsoft.IdentityModel.Tokens" />
	</ItemGroup>

	<ItemGroup Condition="$(UseEFCore) == 'true'">
		<Compile Include="..\Shared\GlobalUsings.Microsoft.EntityFrameworkCore.cs">
			<LinkBase>Properties\GlobalUsings</LinkBase>
		</Compile>
		<Compile Include="..\Shared\GlobalUsings.Z.EntityFramework.Plus.cs">
			<LinkBase>Properties\GlobalUsings</LinkBase>
		</Compile>
		<Compile Include="..\Shared\GlobalUsings.Microsoft.Extensions.Configuration.cs">
			<LinkBase>Properties\GlobalUsings</LinkBase>
		</Compile>
		<PackageReference Include="Microsoft.AspNetCore.Identity.EntityFrameworkCore" />
		<PackageReference Include="Microsoft.EntityFrameworkCore" />
		<PackageReference Include="Microsoft.EntityFrameworkCore.Relational" />
		<PackageReference Include="Microsoft.EntityFrameworkCore.SqlServer" />
		<PackageReference Include="Microsoft.EntityFrameworkCore.Tools" />
		<PackageReference Include="Microsoft.Extensions.Options.ConfigurationExtensions" />
		<PackageReference Include="Npgsql.EntityFrameworkCore.PostgreSQL" />
		<PackageReference Include="Z.EntityFramework.Plus.EFCore" />
	</ItemGroup>

	<ItemGroup Condition="$(UseAvalonia) == 'true'">
		<Compile Include="..\Shared\GlobalUsings.Avalonia.cs">
			<LinkBase>Properties\GlobalUsings</LinkBase>
		</Compile>
		<PackageReference Include="Avalonia" />
	</ItemGroup>

	<ItemGroup Condition="$(UseRedis) == 'true'">
		<Compile Include="..\Shared\GlobalUsings.Redis.cs">
			<LinkBase>Properties\GlobalUsings</LinkBase>
		</Compile>
		<PackageReference Include="StackExchange.Redis" />
		<PackageReference Include="Microsoft.Extensions.Caching.StackExchangeRedis" />
	</ItemGroup>

	<ItemGroup Condition="$(UseNLog) == 'true'">
		<Compile Include="..\Shared\GlobalUsings.NLog.cs">
			<LinkBase>Properties\GlobalUsings</LinkBase>
		</Compile>
		<PackageReference Include="NLog" />
		<PackageReference Include="NLog.Extensions.Logging" />
		<PackageReference Condition="$(UseAspNetCore) == 'true'" Include="NLog.Web.AspNetCore" />
	</ItemGroup>

	<ItemGroup Condition="$(LinkResXGeneratedCodeAttribute) == 'true' AND $(MSBuildProjectName) != 'BD.Common8.Bcl'">
		<Compile Include="..\BD.Common8.Bcl\CodeDom\Compiler\ResXGeneratedCodeAttribute.cs">
			<LinkBase>_SourceReference\CodeDom\Compiler</LinkBase>
		</Compile>
	</ItemGroup>

</Project>